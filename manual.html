<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body>
<div id="TOC"
><ul
  ><li
    ><a href="#vitry-manual"
      >Vitry manual</a
      ><ul
      ><li
	><a href="#introduction"
	  >Introduction</a
	  ></li
	><li
	><a href="#first-steps"
	  >First steps</a
	  ><ul
	  ><li
	    ><a href="#install"
	      >Install</a
	      ></li
	    ><li
	    ><a href="#the-interpreter"
	      >The interpreter</a
	      ></li
	    ><li
	    ><a href="#setting-up-the-environment"
	      >Setting up the environment</a
	      ></li
	    ><li
	    ><a href="#sibelius-installation"
	      >Sibelius installation</a
	      ></li
	    ></ul
	  ></li
	><li
	><a href="#language"
	  >Language</a
	  ><ul
	  ><li
	    ><a href="#basic-types"
	      >Basic types</a
	      ><ul
	      ><li
		><a href="#booleans"
		  >Booleans</a
		  ></li
		><li
		><a href="#numbers"
		  >Numbers</a
		  ></li
		><li
		><a href="#strings"
		  >Strings</a
		  ></li
		></ul
	      ></li
	    ><li
	    ><a href="#compound-types"
	      >Compound types</a
	      ></li
	    ><li
	    ><a href="#functions"
	      >Functions</a
	      ></li
	    ><li
	    ><a href="#sequences"
	      >Sequences</a
	      ></li
	    ></ul
	  ></li
	><li
	><a href="#musical-structures"
	  >Musical structures</a
	  ><ul
	  ><li
	    ><a href="#time"
	      >Time</a
	      ></li
	    ><li
	    ><a href="#pitch"
	      >Pitch</a
	      ></li
	    ><li
	    ><a href="#other-events"
	      >Other events</a
	      ></li
	    ><li
	    ><a href="#representing-music"
	      >Representing music</a
	      ></li
	    ><li
	    ><a href="#notations"
	      >Notations</a
	      ></li
	    ><li
	    ><a href="#part-trees"
	      >Part trees</a
	      ></li
	    ><li
	    ><a href="#instrumentations"
	      >Instrumentations</a
	      ></li
	    ><li
	    ><a href="#continuous-events"
	      >Continuous events</a
	      ></li
	    ><li
	    ><a href="#repetition-and-nonlinearity"
	      >Repetition and nonlinearity</a
	      ></li
	    ></ul
	  ></li
	><li
	><a href="#input-and-output"
	  >Input and output</a
	  ><ul
	  ><li
	    ><a href="#the-sibelius-writer"
	      >The Sibelius writer</a
	      ></li
	    ><li
	    ><a href="#the-lilypond-writer"
	      >The LilyPond writer</a
	      ></li
	    ><li
	    ><a href="#the-musicxml-writer"
	      >The MusicXML writer</a
	      ></li
	    ><li
	    ><a href="#the-midi-writer"
	      >The MIDI writer</a
	      ></li
	    ></ul
	  ></li
	><li
	><a href="#advanced-language-features"
	  >Advanced language features</a
	  ><ul
	  ><li
	    ><a href="#laziness"
	      >Laziness</a
	      ></li
	    ><li
	    ><a href="#the-evaluation-model"
	      >The evaluation model</a
	      ></li
	    ></ul
	  ></li
	><li
	><a href="#other"
	  >Other</a
	  ><ul
	  ><li
	    ><a href="#other-languages"
	      >Other languages</a
	      ></li
	    ><li
	    ><a href="#adding-notations"
	      >Adding notations</a
	      ></li
	    ><li
	    ><a href="#adding-writers"
	      >Adding writers</a
	      ></li
	    ></ul
	  ></li
	></ul
      ></li
    ></ul
  ></div
>
<script type="text/javascript">
var tocVisible = false;

function toc(status) {
    document.getElementById("TOC").style.display = ( status ? "block" : "none" );
    document.getElementById("main").style.marginLeft = ( status ? "220px" : "0px" );
    tocVisible = status;    
}

function toggle() {
    toc(!tocVisible);
}

toc(true);      

</script>
<div id="toggle"><table
><tbody
  ><tr class="odd"
    ><td align="left"
      ><a href="http://github.com/hanshoglund/Vitry"
	>Vitry on Github</a
	></td
      ><td align="left"
      ><a href="javascript:toggle()"
	>Toggle contents</a
	></td
      ></tr
    ></tbody
  ></table
></div>
<div id="main">

<h1 id="vitry-manual"
><a href="#TOC"
  >Vitry manual</a
  ></h1
><p
><small><em
  >© Hans Höglund 2010</em
  ></small></p
><p
><br
   /></p
><h2 id="introduction"
><a href="#TOC"
  >Introduction</a
  ></h2
><p
>Vitry is a programming language with an inline syntax and simple, expressive type system. It is designed to allow easy representation of all kinds of musical structures. Vitry may be used for algorithmic composition or analysis.</p
><p
>Vitry includes a powerful model of standard musical notation. It performs no graphical rendering of music on its own, but it built for seamless integration with standard score-editing tools, such as <a href="http://www.sibelius.com/"
  >Sibelius</a
  > and <a href="http://lilypond.org/"
  >LilyPond</a
  >.</p
><p
><br
   /></p
><h2 id="first-steps"
><a href="#TOC"
  >First steps</a
  ></h2
><h3 id="install"
><a href="#TOC"
  >Install</a
  ></h3
><p
>Vitry targets the <a href="http://en.wikipedia.org/wiki/Java_Virtual_Machine"
  >Java Virtual Machine</a
  >, and may be used with many different operating systems. On Mac OS X systems, Java is preinstalled by default. For other systems, refer to <a href="www.java.com"
  >this page</a
  > or the documentation specific to your systems for installation options.</p
><p
>You may download a pre-compiled version of Vitry from <a href="http://github.com/hanshoglund/vitry/downloads"
  >http://github.com/hanshoglund/vitry/downloads</a
  >.</p
>To compile the latest version yourself, <a href="http://git-scm.com/"
>Git</a
> and <a href="http://ant.apache.org/"
>Apache ANT</a
> is required. In this case, use the following commands to fetch the source code and build:<pre>
$ git clone git@github.com:hanshoglund/vitry.git
$ cd vitry
$ ant
</pre>
<h3 id="the-interpreter"
><a href="#TOC"
  >The interpreter</a
  ></h3
><p
>The interpreter is typically the simplest way to interact with Vitry. To run it, move into the Vitry directory and launch vitry through the <code
  >vitry</code
  > script.</p
><pre>
$ cd vitry
$ ./vitry
</pre>


<p
>TODO starting a session TODO the REPL mode TODO interpreter command</p
><h3 id="setting-up-the-environment"
><a href="#TOC"
  >Setting up the environment</a
  ></h3
><p
>TODO the <code
  >~/.vitry</code
  > file TODO variables</p
><h3 id="sibelius-installation"
><a href="#TOC"
  >Sibelius installation</a
  ></h3
><p
><br
   /></p
><h2 id="language"
><a href="#TOC"
  >Language</a
  ></h2
><p
>TODO intro text</p
><p
>TODO more definitions</p
><p
><em
  >Values</em
  > are pieces of data that we can retrieve and manipulate. <em
  >Expressions</em
  > are a series of values or other expressions that may be <em
  >evaluated</em
  >. The evaluation will produce a value, provided it succeeds. <em
  >Types</em
  > are special values that help us create and reason about other values. Types are created from type expressions.</p
><h3 id="basic-types"
><a href="#TOC"
  >Basic types</a
  ></h3
><h4 id="booleans"
><a href="#TOC"
  >Booleans</a
  ></h4
><p
>The boolean type is written as <code
  >bool</code
  >. Its values are written as <code
  >true</code
  > and <code
  >false</code
  >.</p
><h4 id="numbers"
><a href="#TOC"
  >Numbers</a
  ></h4
><p
>Vitry supports bignum natural, integer and rational numbers, as well as floating-point real and complex numbers. The types of these are writen as <code
  >nat</code
  >, <code
  >int</code
  >, <code
  >rat</code
  >, <code
  >float</code
  > and <code
  >complex</code
  > respectively.</p
><p
>Natural, integers and rational numbers are written as sequences of digits. Vitry will automatically convert integers to rationals and vice versa:</p
><p
><code
  >152</code
  ><br
   /> <code
  >42</code
  ><br
   /> <code
  >-8</code
  ><br
   /> <code
  >3/2</code
  ></p
><p
>Floating point numbers may be writen in several ways:</p
><p
><code
  >0.1</code
  ><br
   /> <code
  >0.12e10</code
  ><br
   /> <code
  >2e-5</code
  ><br
   /> <code
  >0.5/2</code
  ></p
><p
>We create a complex number by adding the imaginary unit <code
  >i</code
  > to the imaginary part:</p
><p
><code
  >2i</code
  ><br
   /> <code
  >1 + 0i</code
  ><br
   /> <code
  >22.4 + 32e4i</code
  ></p
><h4 id="strings"
><a href="#TOC"
  >Strings</a
  ></h4
><p
>Strings are sequences of Unicode characters. The string type is written as <code
  >string</code
  >. String values are written inside double-quotes:</p
><p
><code
  >&quot;Beethoven day&quot;</code
  ><br
   /> <code
  >&quot;What larks&quot;</code
  ><br
   /></p
><h3 id="compound-types"
><a href="#TOC"
  >Compound types</a
  ></h3
><h3 id="functions"
><a href="#TOC"
  >Functions</a
  ></h3
><h3 id="sequences"
><a href="#TOC"
  >Sequences</a
  ></h3
><p
><br
   /></p
><h2 id="musical-structures"
><a href="#TOC"
  >Musical structures</a
  ></h2
><p
>Vitry provide a representation of the structures typically found in musical scores. All musical structures are defined in terms of type expressions, which are also exposed to structures representing any kind of musical transcription.</p
><p
>As will be clear at the end of this chapter, Vitry makes a clear distinction between the representations of <em
  >music</em
  > and its <em
  >notation</em
  >. Loosely, we may think of music as structured data, and of notations as presentations of this data according to the given structure. This allows Vitry to associate identical musical structures with different notations.</p
><p
>The separation of music and notation allow the representation of simple musical values (such as pitch and time) to be precise and inherently relative. Vitry accomplish this by usign rational numbers for such values.</p
><h3 id="time"
><a href="#TOC"
  >Time</a
  ></h3
><h3 id="pitch"
><a href="#TOC"
  >Pitch</a
  ></h3
><h3 id="other-events"
><a href="#TOC"
  >Other events</a
  ></h3
><h3 id="representing-music"
><a href="#TOC"
  >Representing music</a
  ></h3
><h3 id="notations"
><a href="#TOC"
  >Notations</a
  ></h3
><h3 id="part-trees"
><a href="#TOC"
  >Part trees</a
  ></h3
><h3 id="instrumentations"
><a href="#TOC"
  >Instrumentations</a
  ></h3
><h3 id="continuous-events"
><a href="#TOC"
  >Continuous events</a
  ></h3
><h3 id="repetition-and-nonlinearity"
><a href="#TOC"
  >Repetition and nonlinearity</a
  ></h3
><p
></p
><h2 id="input-and-output"
><a href="#TOC"
  >Input and output</a
  ></h2
><h3 id="the-sibelius-writer"
><a href="#TOC"
  >The Sibelius writer</a
  ></h3
><h3 id="the-lilypond-writer"
><a href="#TOC"
  >The LilyPond writer</a
  ></h3
><h3 id="the-musicxml-writer"
><a href="#TOC"
  >The MusicXML writer</a
  ></h3
><h3 id="the-midi-writer"
><a href="#TOC"
  >The MIDI writer</a
  ></h3
><h2 id="advanced-language-features"
><a href="#TOC"
  >Advanced language features</a
  ></h2
><h3 id="laziness"
><a href="#TOC"
  >Laziness</a
  ></h3
><h3 id="the-evaluation-model"
><a href="#TOC"
  >The evaluation model</a
  ></h3
><h2 id="other"
><a href="#TOC"
  >Other</a
  ></h2
><h3 id="other-languages"
><a href="#TOC"
  >Other languages</a
  ></h3
><h3 id="adding-notations"
><a href="#TOC"
  >Adding notations</a
  ></h3
><h3 id="adding-writers"
><a href="#TOC"
  >Adding writers</a
  ></h3
></div>
</body>
</html>
